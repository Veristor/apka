# Szczegółowa dokumentacja PSE API v2

## 1. Informacje podstawowe

### Wersja API
- **Nazwa:** PSE API v2
- **Wersja:** 1.4.35
- **Standard:** OAS 3.0 (OpenAPI Specification)
- **Typ:** RESTful API

### URL bazowy
```
https://apimpdv2-bmgdhhajexe8aade.a01.azurefd.net/api/
```

### Format odpowiedzi
- **Media type:** application/json
- **Kodowanie:** UTF-8

## 2. Parametry wspólne dla większości endpointów

### 2.1. $select (string)
- **Opis:** Lista pól oddzielonych przecinkami do zwrócenia w odpowiedzi
- **Typ:** query parameter
- **Przykład:** `$select=field1,field2,field3`

### 2.2. $filter (string)
- **Opis:** Wyrażenie OData (wyrażenie zwracające wartość logiczną) wykorzystujące pola encji do pobrania podzbioru wyników
- **Typ:** query parameter
- **Przykład:** `$filter=field eq 'value'`

### 2.3. $orderby (string)
- **Opis:** Uses a comma-separated list of expressions to sort response items. Add 'desc' for descending order, otherwise it's ascending by default
- **Typ:** query parameter
- **Przykład:** `$orderby=field1,field2 desc`

### 2.4. $first (integer)
- **Opis:** An integer value that specifies the number of items to return. Default is 100
- **Typ:** query parameter
- **Domyślna wartość:** 100

### 2.5. $after (string)
- **Opis:** An opaque string that specifies the cursor position after which results should be returned
- **Typ:** query parameter
- **Przeznaczenie:** Paginacja wyników

## 3. Kody odpowiedzi HTTP

- **200** - OK (pomyślne wykonanie zapytania)
- **400** - BadRequest (nieprawidłowe zapytanie)
- **403** - Forbidden (brak dostępu)
- **404** - NotFound (nie znaleziono zasobu)

## 4. Struktura odpowiedzi

Typowa struktura odpowiedzi JSON:
```json
{
  "value": [
    {
      // dane obiektu
    }
  ],
  "nextLink": "string"  // link do następnej strony wyników
}
```

## 5. Lista wszystkich endpointów

### 5.1. Ograniczenia operacyjne
- **GET /ogr-oper** - Zwraca encje ograniczeń operacyjnych
- **GET /ogr-oper-head** - Nagłówki ograniczeń operacyjnych

### 5.2. Dane rynkowe i bilansowe
- **GET /it-omb-rbb** - Dane IT OMB RBB
- **GET /it-oeb-rbb** - Dane IT OEB RBB
- **GET /it-pp-rbb** - Dane IT PP RBB
- **GET /it-use-rbb** - Dane IT USE RBB
- **GET /it-omb-rbn** - Dane IT OMB RBN
- **GET /it-oeb-rbn** - Dane IT OEB RBN
- **GET /it-pp-rbn** - Dane IT PP RBN
- **GET /it-use-rbn** - Dane IT USE RBN
- **GET /it-ot-rbn** - Dane IT OT RBN
- **GET /it-opmb-rmb** - Dane IT OPMB RMB

### 5.3. Prognozy i ceny
- **GET /price-fcst** - Prognozy cen energii
- **GET /price-cost** - Koszty energii
- **GET /energy-prices** - Ceny energii elektrycznej

### 5.4. Dane systemowe
- **GET /pk5l-wp** - Dane PK5L WP
- **GET /unav-pk5l** - Niedostępności PK5L
- **GET /pdgopkd** - Dane PDG OPKD
- **GET /pdgobpkd** - Dane PDG OBPKD

### 5.5. Ograniczenia dobowe
- **GET /ogr-d1** - Ograniczenia dobowe D+1
- **GET /ogr-d1-head** - Nagłówki ograniczeń dobowych D+1
- **GET /ogr-d2** - Ograniczenia dobowe D+2
- **GET /ogr-d2-head** - Nagłówki ograniczeń dobowych D+2
- **GET /ogr-d39** - Ograniczenia dobowe D+39
- **GET /ogr-d39-head** - Nagłówki ograniczeń dobowych D+39

### 5.6. Ograniczenia miesięczne i roczne
- **GET /ogr-m** - Ograniczenia miesięczne
- **GET /ogr-m-head** - Nagłówki ograniczeń miesięcznych
- **GET /ogr-r** - Ograniczenia roczne
- **GET /ogr-r-head** - Nagłówki ograniczeń rocznych

### 5.7. Pozwolenia i redukcje
- **GET /poze-redoze** - Pozwolenia i redukcje OZE
- **GET /rcco2** - Dane RC CO2

### 5.8. Rozliczenia
- **GET /crb-rozl** - Rozliczenia CRB
- **GET /krb-rozl** - Rozliczenia KRB
- **GET /kmb-kro-rozl** - Rozliczenia KMB KRO
- **GET /ro-rozl** - Rozliczenia RO
- **GET /eb-rozl** - Rozliczenia EB
- **GET /en-rozl** - Rozliczenia EN
- **GET /zeb-rozl** - Rozliczenia ZEB

### 5.9. Plany i harmonogramy
- **GET /rce-pln** - Plany RCE
- **GET /csdac-pln** - Plany CSDAC
- **GET /ro-prog** - Programy RO

### 5.10. Dane maksymalne i typowe
- **GET /cordmax** - Dane CORDMAX
- **GET /cmbp-tp** - Dane CMBP TP
- **GET /mbp-tp** - Dane MBP TP

### 5.11. Dane jednostek
- **GET /cmbu-tu** - Dane CMBU TU
- **GET /mbu-tu** - Dane MBU TU

### 5.12. Dane bilansowe
- **GET /zmb** - Dane ZMB
- **GET /ogr-rmb** - Ograniczenia RMB
- **GET /ogr-b** - Ograniczenia B
- **GET /ogr-b-head** - Nagłówki ograniczeń B

### 5.13. Dane OEB i innych jednostek
- **GET /oeb-bpkdbo** - Dane OEB BPKDBO
- **GET /pomb-rbn** - Dane POMB RBN
- **GET /popmb-rmb** - Dane POPMB RMB
- **GET /poeb-rbn** - Dane POEB RBN
- **GET /poeb-rbb** - Dane POEB RBB

### 5.14. Usługi i sprzedaż
- **GET /use-sprz-rbb** - Usługi sprzedaży RBB
- **GET /use-sprz-rbn** - Usługi sprzedaży RBN

### 5.15. Współczynniki i korelacje
- **GET /wsp-wrm** - Współczynniki WRM
- **GET /cor** - Korelacje
- **GET /cor-q-1** - Korelacje Q-1

### 5.16. Dane systemowe dodatkowe
- **GET /pdwkseub** - Dane PDWKSEUB
- **GET /przeplywy-mocy** - Przepływy mocy
- **GET /sk** - Dane SK
- **GET /pdgsz** - Dane PDGSZ

### 5.17. Dane historyczne
- **GET /his-wlk-cal** - Historyczne wielkości całkowite
- **GET /his-bil-mocy** - Historyczne bilanse mocy
- **GET /his-gen-pal** - Historyczna generacja paliw

### 5.18. Obciążenie i generacja
- **GET /kse-load** - Obciążenie KSE (Krajowego Systemu Elektroenergetycznego)
- **GET /gen-jw** - Generacja jednostek wytwórczych

### 5.19. Inne dane
- **GET /codn** - Dane CODN
- **GET /lolp** - Dane LOLP (Loss of Load Probability)
- **GET /specwezlow** - Specyfikacja węzłów

## 6. Przykład struktury odpowiedzi (endpoint ogr-oper)

```json
{
  "value": [
    {
      "node": "string",
      "resource_name": "string",
      "resource_code": "string",
      "direction": "string",
      "pol_min_power_of_unit": 0,
      "pol_min_power_of_unit_plant": 0,
      "pol_max_power_of_unit_plant": 0,
      "pol_max_power_of_unit": 0,
      "from_dtime": "string",
      "from_dtime_utc": "string",
      "to_dtime": "string",
      "to_dtime_utc": "string",
      "time_conditions": "string",
      "limiting_element": "string",
      "add_cond": "string",
      "business_date": "string",
      "publication_ts": "string",
      "publication_ts_utc": "string"
    }
  ],
  "nextLink": "string"
}
```

## 7. Uwagi dotyczące korzystania z API

### 7.1. Paginacja
API wykorzystuje paginację opartą na kursorach. Po otrzymaniu pierwszej strony wyników, pole `nextLink` zawiera URL do pobrania kolejnej strony.

### 7.2. Filtrowanie OData
API wspiera standard OData do filtrowania wyników. Przykłady:
- Równość: `$filter=field eq 'value'`
- Większe niż: `$filter=field gt 100`
- Zawiera: `$filter=contains(field,'text')`
- Zakres dat: `$filter=date ge 2024-01-01 and date le 2024-12-31`

### 7.3. Strefy czasowe
API zwraca daty w dwóch formatach:
- Czas lokalny (pola bez sufixu `_utc`)
- Czas UTC (pola z sufixem `_utc`)

### 7.4. Limity
Domyślny limit zwracanych rekordów to 100. Można go zmienić parametrem `$first`.

## 8. Organizacja danych

API PSE jest zorganizowane tematycznie według następujących kategorii:

1. **Ograniczenia systemowe** - różne rodzaje ograniczeń operacyjnych
2. **Dane rynkowe** - informacje o rynku bilansującym
3. **Ceny i prognozy** - dane cenowe i prognozy
4. **Bilanse i rozliczenia** - dane bilansowe i rozliczeniowe
5. **Dane historyczne** - archiwalne dane systemowe
6. **Przepływy mocy** - informacje o przepływach w systemie
7. **Generacja i obciążenie** - dane o produkcji i zużyciu energii

## 9. Informacje kontaktowe

**Polskie Sieci Elektroenergetyczne S.A.**
- Adres: ul. Warszawska 165, 05-520 Konstancin-Jeziorna
- Strona korporacyjna: http://www.pse.pl/
- API: https://api.raporty.pse.pl/

## 10. Dodatkowe zasoby

- Raport wpływu PSE: https://raport.pse.pl/
- UMM: https://www.gasinsideinformationplatform.pl/
- Komunikaty OSP: https://www.pse.pl/komunikaty-osp

---
*Dokument wygenerowany na podstawie analizy Swagger UI PSE API v2*